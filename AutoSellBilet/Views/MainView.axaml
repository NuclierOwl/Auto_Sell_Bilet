<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:AutoSellBilet.ViewModels"
             x:Class="AutoSellBilet.Views.MainView"
             x:DataType="vm:MainViewModel">

	<StackPanel Margin="20" Spacing="10">
		<TextBlock Text="{Binding Greeting}" FontSize="16" FontWeight="Bold"/>

		<StackPanel Orientation="Horizontal" Spacing="5" IsVisible="{Binding CurrentUser}">
			<TextBlock Text="Вы вошли как:" FontWeight="Bold"/>
			<TextBlock Text="{Binding CurrentUser.Name}"/>
		</StackPanel>

		<TextBlock Text="Фильм" FontWeight="Bold"/>
		<ComboBox ItemsSource="{Binding Kino}"
                  SelectedItem="{Binding SelectedFilm}">
			<ComboBox.ItemTemplate>
				<DataTemplate>
					<StackPanel Orientation="Horizontal" Spacing="5">
						<TextBlock Text="{Binding Name}" FontWeight="Bold"/>
						<TextBlock Text="{Binding Nomer_zala}" Foreground="Gray"/>
					</StackPanel>
				</DataTemplate>
			</ComboBox.ItemTemplate>
		</ComboBox>

		<TextBlock Text="Номер зала" FontWeight="Bold"/>
		<TextBlock Text="{Binding HallNumber}" FontSize="14"/>

		<TextBlock Text="Место" FontWeight="Bold"/>

		<ComboBox ItemsSource="{Binding Seats}" 
          SelectedItem="{Binding SelectedSeat}">  <!--Выподашка с местами-->
			<ComboBox.ItemTemplate>
				<DataTemplate>
					<StackPanel Orientation="Horizontal" Spacing="5">
						<TextBlock Text="Ряд:"/>
						<TextBlock Text="{Binding row_number, FallbackValue='N/A'}" FontWeight="Bold"/>
						<TextBlock Text=" Место:"/>
						<TextBlock Text="{Binding mesto_number, FallbackValue='N/A'}" FontWeight="Bold"/>
					</StackPanel>
				</DataTemplate>
			</ComboBox.ItemTemplate>
		</ComboBox>
		
		
		<!-- Этого не существует
		<ListBox ItemsSource="{Binding Seats}"
				 SelectedItem="{Binding SelectedSeat}"
				 Name="BiletList"> 
			<ListBox.ItemTemplate>
				<DataTemplate>
					<Grid RowDefinitions="*,*,*,*,*" ColumnDefinitions="*,*,*,*,*">
						<Image Grid.Row="0" Grid.Column="0" Width="50" Height="75" Source="C:\Users\PC\source\Dopolnenia\Kartinki\Iconki\Ico\1b5c5377d0a8b10b36c26dcad5a5cdf3.ico"/>
						<TextBlock Grid.Row="1" Grid.Column="0" Text="Ряд:"/>
						<TextBlock Grid.Row="1" Grid.Column="1" Text="{Binding row_number}"/>
						<TextBlock Grid.Row="2" Grid.Column="0" Text=" Место:"/>
						<TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding mesto_number}"/>
					</Grid>
				</DataTemplate>
			</ListBox.ItemTemplate>
		</ListBox>
		-->
		<TextBlock Text="Информация о билете" FontWeight="Bold"/>
		<TextBlock Text="{Binding PriceInfo}" FontSize="14" Foreground="Green"/>

		<Button Content="Купить билет" Command="{Binding BuyTicket}"/>
		<Button Content="Возврат билета" Command="{Binding Otmena}"/>
	</StackPanel>
</UserControl>